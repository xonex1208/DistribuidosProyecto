#include <OLED_I2C.h>

//tipos de sprites
#define PLAYER  1//Jugador
#define ENEMIGO 2//Enemigo
#define BALA    3//balla
//Banderas de comunicacion
#define OK      4//Conexion correcta

//Pines
#define BOTON   17
#define EJEX    16
#define EJEY    15
#define IN1     11
#define OUT1    12
#define IN2     2
#define OUT2    3


OLED  myOLED(SDA, SCL);//Se instancia la clase OLED que controla la pantalla

extern const uint8_t TinyFont[];//Fuente para escribir texto y numeros

const uint8_t foto[] PROGMEM={//128x64
0x55, 0x22, 0x55, 0xEF, 0x55, 0xAA, 0x55, 0xFF, 0x57, 0xBF, 0x55, 0xFF, 0x55, 0xBA, 0xFF, 0xFF,   // 0x0010 (16) pixels
0xFF, 0xFF, 0xFF, 0xFF, 0x77, 0xFF, 0x55, 0xFF, 0x55, 0xBB, 0x55, 0xEF, 0x55, 0xBB, 0x55, 0xFE,   // 0x0020 (32) pixels
0x55, 0xBB, 0x55, 0xEE, 0x55, 0xBB, 0x55, 0x3E, 0x15, 0x0B, 0x15, 0x0F, 0x15, 0x03, 0x05, 0x0F,   // 0x0030 (48) pixels
0x15, 0x03, 0x05, 0x07, 0x15, 0x03, 0x05, 0x0F, 0x15, 0x1F, 0x15, 0x3F, 0x55, 0xBB, 0x55, 0xFF,   // 0x0040 (64) pixels
0x55, 0xBF, 0x55, 0xFF, 0x55, 0xBB, 0x55, 0xFF, 0x55, 0xBF, 0x55, 0xFF, 0x55, 0xFF, 0x55, 0xFF,   // 0x0050 (80) pixels
0x55, 0xFF, 0x55, 0xFF, 0x55, 0x3F, 0x55, 0x0F, 0x15, 0x0F, 0x05, 0x0F, 0x15, 0x0F, 0x05, 0x0F,   // 0x0060 (96) pixels
0x15, 0x0F, 0x05, 0x0F, 0x15, 0x0F, 0x15, 0x0F, 0x15, 0x3F, 0x55, 0x3F, 0x55, 0xFB, 0x55, 0xFF,   // 0x0070 (112) pixels
0x55, 0xBF, 0x55, 0xFF, 0x55, 0xFB, 0x55, 0xFF, 0x55, 0xBF, 0x55, 0xFF, 0x55, 0xFB, 0x55, 0xFF,   // 0x0080 (128) pixels
0x57, 0x2A, 0x55, 0xAF, 0x55, 0xFB, 0x55, 0xFF, 0x55, 0xFF, 0x55, 0xFF, 0x55, 0xFF, 0xFF, 0xFF,   // 0x0090 (144) pixels
0xFF, 0xFF, 0xFF, 0xFF, 0x77, 0xFF, 0xD5, 0xFF, 0x55, 0xFF, 0x55, 0xFF, 0x55, 0xFB, 0x55, 0xFF,   // 0x00A0 (160) pixels
0x55, 0xBB, 0x55, 0x0F, 0x15, 0x02, 0x40, 0x00, 0x51, 0x20, 0x54, 0x88, 0x51, 0xA0, 0x54, 0xA0,   // 0x00B0 (176) pixels
0x51, 0xA0, 0x55, 0xC0, 0x51, 0xA0, 0x44, 0x80, 0x11, 0x00, 0x45, 0x00, 0x11, 0x00, 0x45, 0x0F,   // 0x00C0 (192) pixels
0x15, 0x3F, 0x55, 0xEF, 0x55, 0xBB, 0x55, 0xFF, 0x55, 0xBF, 0x55, 0xFF, 0x55, 0xBB, 0x55, 0x03,   // 0x00D0 (208) pixels
0x15, 0x03, 0x01, 0x00, 0x11, 0x00, 0x40, 0x00, 0x11, 0x00, 0x40, 0x00, 0x51, 0x20, 0x50, 0xA0,   // 0x00E0 (224) pixels
0x51, 0xA0, 0x54, 0xA8, 0x50, 0xA0, 0x50, 0xE0, 0x51, 0xA0, 0x45, 0x80, 0x11, 0x00, 0x05, 0x03,   // 0x00F0 (240) pixels
0x15, 0x2F, 0x55, 0xFF, 0x55, 0xBF, 0x55, 0xFF, 0x55, 0xBF, 0x55, 0xFF, 0x55, 0xFB, 0x55, 0xFF,   // 0x0100 (256) pixels
0x57, 0x2A, 0x55, 0xFF, 0x55, 0xBF, 0x55, 0xFF, 0x55, 0xFF, 0x5D, 0xFF, 0x55, 0xFF, 0xFF, 0xFF,   // 0x0110 (272) pixels
0xFF, 0xFF, 0xFF, 0xFF, 0x77, 0xFF, 0xDD, 0xFF, 0x57, 0xFF, 0x55, 0xFF, 0x55, 0xFB, 0x55, 0xFF,   // 0x0120 (288) pixels
0x55, 0x00, 0x54, 0x00, 0x15, 0x00, 0x45, 0x88, 0x15, 0x2A, 0x55, 0x2A, 0x55, 0xBB, 0x55, 0xFE,   // 0x0130 (304) pixels
0x55, 0xBF, 0x55, 0xFF, 0x75, 0xFF, 0x55, 0xFE, 0x55, 0xBA, 0x55, 0x00, 0x51, 0x00, 0x00, 0x00,   // 0x0140 (320) pixels
0x41, 0x82, 0x55, 0xEF, 0x55, 0xBB, 0x55, 0xFF, 0x55, 0xBB, 0x55, 0xA3, 0x11, 0x01, 0x01, 0x00,   // 0x0150 (336) pixels
0x01, 0x00, 0x44, 0x00, 0x11, 0x00, 0x55, 0x00, 0x15, 0x02, 0x55, 0x8A, 0x55, 0xA2, 0x55, 0xEA,   // 0x0160 (352) pixels
0x55, 0xBB, 0x55, 0xEE, 0x55, 0xFB, 0x55, 0xFF, 0x57, 0x3F, 0x55, 0xBF, 0x75, 0xF8, 0x54, 0x80,   // 0x0170 (368) pixels
0x11, 0x02, 0x55, 0xBF, 0x55, 0xBB, 0x55, 0xFF, 0x55, 0xBB, 0x55, 0xFF, 0x55, 0xBB, 0x55, 0xFF,   // 0x0180 (384) pixels
0x55, 0x22, 0x55, 0x0F, 0x55, 0x23, 0x55, 0x8F, 0x55, 0x2B, 0x55, 0xAE, 0xFF, 0xFF, 0xFF, 0xFF,   // 0x0190 (400) pixels
0x7F, 0xBF, 0x5F, 0xFF, 0x57, 0xBF, 0x55, 0xFF, 0x57, 0xBF, 0x55, 0xAF, 0x55, 0xBB, 0x55, 0x03,   // 0x01A0 (416) pixels
0x55, 0x20, 0x55, 0xA0, 0x51, 0x22, 0x55, 0x08, 0x15, 0x00, 0x55, 0xE8, 0x75, 0xBB, 0x55, 0xE8,   // 0x01B0 (432) pixels
0x55, 0x23, 0x55, 0x8B, 0x51, 0x33, 0x55, 0xAF, 0x55, 0x2B, 0x55, 0x00, 0x11, 0x80, 0x54, 0xFE,   // 0x01C0 (448) pixels
0x55, 0xBB, 0x55, 0xEF, 0x55, 0xBB, 0x55, 0xFF, 0x55, 0xBB, 0x55, 0xAF, 0x11, 0x00, 0x00, 0x00,   // 0x01D0 (464) pixels
0x11, 0x00, 0x45, 0x00, 0x11, 0x00, 0x54, 0x08, 0x15, 0x08, 0x55, 0x00, 0x11, 0x00, 0x45, 0x02,   // 0x01E0 (480) pixels
0x15, 0xBF, 0x5D, 0xFE, 0x55, 0xAA, 0x55, 0x82, 0x55, 0x82, 0x55, 0xEF, 0x57, 0xFF, 0x5D, 0xFE,   // 0x01F0 (496) pixels
0x55, 0x00, 0x45, 0xAF, 0x55, 0xBB, 0x55, 0xEF, 0x55, 0xBB, 0x55, 0xEF, 0x55, 0xBB, 0x55, 0xFF,   // 0x0200 (512) pixels
0x55, 0x22, 0x55, 0x08, 0x55, 0x22, 0x55, 0x88, 0x55, 0x22, 0x55, 0xFE, 0xFF, 0xFF, 0x55, 0xFF,   // 0x0210 (528) pixels
0x55, 0xBB, 0x55, 0xAE, 0x55, 0xBB, 0x55, 0xAA, 0x55, 0xBB, 0x55, 0x2E, 0x55, 0x03, 0x55, 0x00,   // 0x0220 (544) pixels
0x15, 0x02, 0x15, 0x02, 0x15, 0x00, 0x45, 0xC0, 0x55, 0xAA, 0x55, 0xEF, 0x55, 0xFB, 0x55, 0xFF,   // 0x0230 (560) pixels
0x57, 0xFE, 0x55, 0xFE, 0x55, 0xBF, 0x55, 0x0A, 0x15, 0x82, 0x45, 0xA0, 0x55, 0xBA, 0x55, 0xEE,   // 0x0240 (576) pixels
0x55, 0xBB, 0x55, 0xEE, 0x55, 0xBB, 0x55, 0xEE, 0x55, 0xBB, 0x55, 0xFF, 0x55, 0x00, 0x50, 0x00,   // 0x0250 (592) pixels
0x15, 0x00, 0x44, 0x00, 0x11, 0x00, 0x55, 0x00, 0x55, 0x20, 0x55, 0x00, 0x11, 0x00, 0x54, 0x00,   // 0x0260 (608) pixels
0x11, 0x02, 0x55, 0xFF, 0x77, 0xBF, 0x55, 0xFE, 0x55, 0x9B, 0x55, 0x3F, 0x55, 0xFB, 0x55, 0xFF,   // 0x0270 (624) pixels
0x77, 0xFE, 0x55, 0xEF, 0x55, 0xBB, 0x55, 0xFE, 0x55, 0xBB, 0x55, 0xEF, 0x55, 0xBB, 0x55, 0xFF,   // 0x0280 (640) pixels
0x55, 0x22, 0x55, 0x88, 0x55, 0xA2, 0x55, 0xE0, 0x55, 0xAA, 0x55, 0xAF, 0x57, 0xBB, 0x55, 0xAB,   // 0x0290 (656) pixels
0x55, 0xAB, 0x55, 0xAA, 0x55, 0x22, 0x55, 0xAA, 0x55, 0x22, 0x55, 0x00, 0x11, 0x00, 0x40, 0x00,   // 0x02A0 (672) pixels
0x11, 0x00, 0x55, 0x00, 0x51, 0x22, 0x54, 0xE0, 0x55, 0xAA, 0x55, 0xAA, 0x51, 0xA2, 0x55, 0x2B,   // 0x02B0 (688) pixels
0x55, 0x3B, 0x15, 0x0F, 0x55, 0xA2, 0x55, 0xEE, 0x55, 0xBB, 0x55, 0xAE, 0x55, 0xBB, 0x55, 0xAE,   // 0x02C0 (704) pixels
0x55, 0xBB, 0x55, 0xAF, 0x55, 0xBB, 0x55, 0xEE, 0x55, 0xBB, 0x55, 0xAF, 0x55, 0xBA, 0x54, 0xF8,   // 0x02D0 (720) pixels
0x51, 0xE0, 0x45, 0x00, 0x11, 0x00, 0x55, 0x02, 0x51, 0x00, 0x45, 0x00, 0x11, 0x00, 0x44, 0x00,   // 0x02E0 (736) pixels
0x55, 0x22, 0x55, 0xAF, 0x55, 0xAF, 0x55, 0xEF, 0x57, 0xEF, 0x55, 0xEE, 0x55, 0xF8, 0x55, 0xFF,   // 0x02F0 (752) pixels
0x75, 0xBF, 0x55, 0xEF, 0x55, 0xBB, 0x55, 0xFE, 0x55, 0xBB, 0x55, 0xEF, 0x55, 0xBB, 0x55, 0xEE,   // 0x0300 (768) pixels
0x55, 0xAA, 0x55, 0xEE, 0x75, 0xFF, 0x55, 0xFF, 0x75, 0xFF, 0xD5, 0xEE, 0x55, 0xBA, 0x55, 0xEA,   // 0x0310 (784) pixels
0x55, 0xAB, 0x55, 0xAA, 0x55, 0xA2, 0x55, 0xA8, 0x55, 0x22, 0x55, 0x80, 0x51, 0x00, 0x40, 0x00,   // 0x0320 (800) pixels
0x11, 0x00, 0x05, 0x00, 0x11, 0x00, 0x45, 0x00, 0x11, 0x02, 0x45, 0x00, 0x51, 0x00, 0x40, 0x80,   // 0x0330 (816) pixels
0x51, 0x00, 0x55, 0x80, 0x55, 0xA0, 0x55, 0xAA, 0x55, 0x3B, 0x55, 0xAE, 0x55, 0xBB, 0x55, 0xAA,   // 0x0340 (832) pixels
0x55, 0xBB, 0x55, 0xAE, 0x55, 0xBB, 0x55, 0xAA, 0x55, 0xBB, 0x55, 0xAE, 0x55, 0xBB, 0x55, 0xEE,   // 0x0350 (848) pixels
0x55, 0xBB, 0x55, 0xFE, 0x51, 0x00, 0x44, 0x00, 0x11, 0x00, 0x05, 0x00, 0x11, 0x00, 0x55, 0x00,   // 0x0360 (864) pixels
0x55, 0x2B, 0x55, 0xAA, 0x55, 0xFB, 0x55, 0xFF, 0x77, 0xFF, 0x55, 0xFF, 0x55, 0xFB, 0x55, 0xFF,   // 0x0370 (880) pixels
0x55, 0xBB, 0x55, 0xEE, 0x55, 0xBB, 0x55, 0xEE, 0x55, 0xBB, 0x55, 0xEF, 0x55, 0xBB, 0x55, 0xFE,   // 0x0380 (896) pixels
0x55, 0x2A, 0x55, 0xCE, 0x57, 0xFF, 0x55, 0xFF, 0x77, 0xFF, 0x5F, 0xFF, 0x77, 0xFF, 0xFD, 0xFF,   // 0x0390 (912) pixels
0x77, 0xFF, 0x5D, 0xFF, 0x75, 0xFF, 0x55, 0xFE, 0x75, 0xFF, 0xFD, 0xFB, 0x75, 0xFE, 0x55, 0xFE,   // 0x03A0 (928) pixels
0x55, 0xBA, 0x55, 0xEA, 0x75, 0xFA, 0x75, 0xFA, 0x75, 0xFA, 0x55, 0xFA, 0x55, 0xBA, 0x55, 0xEE,   // 0x03B0 (944) pixels
0x55, 0x3A, 0x55, 0xAA, 0x55, 0x2A, 0x55, 0xAA, 0x55, 0x2A, 0x55, 0x2A, 0x55, 0x23, 0x15, 0x2A,   // 0x03C0 (960) pixels
0x15, 0x3B, 0x15, 0x2E, 0x15, 0x3B, 0x15, 0x2A, 0x15, 0x3B, 0x15, 0x0A, 0x15, 0x0B, 0x05, 0x02,   // 0x03D0 (976) pixels
0x01, 0x03, 0x41, 0x00, 0x01, 0x00, 0x04, 0x00, 0x11, 0x00, 0x44, 0x00, 0x51, 0x00, 0x40, 0x80,   // 0x03E0 (992) pixels
0x51, 0x20, 0x55, 0xAA, 0x55, 0xBB, 0x55, 0xAE, 0x55, 0xBB, 0x55, 0xFF, 0x55, 0x3F, 0x55, 0x3F,   // 0x03F0 (1008) pixels
0x15, 0x0A, 0x05, 0x00, 0x11, 0x01, 0x45, 0x02, 0x15, 0x03, 0x05, 0x03, 0x15, 0x03, 0x05, 0x0E,   // 0x0400 (1024) pixels
};
const uint8_t acerca[] PROGMEM = {//128x64
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0010 (16) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0020 (32) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0030 (48) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0040 (64) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0050 (80) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0060 (96) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0070 (112) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0080 (128) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0090 (144) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x00A0 (160) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x00B0 (176) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x00C0 (192) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x00D0 (208) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x00E0 (224) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x00F0 (240) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0100 (256) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x10, 0x10,   // 0x0110 (272) pixels
  0x10, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0xFE, 0xFE, 0xFE, 0xFE, 0x92, 0x92, 0x92, 0x82,   // 0x0120 (288) pixels
  0x82, 0x82, 0x00, 0xFE, 0xFE, 0xFE, 0xFE, 0x82, 0x82, 0xE6, 0xE6, 0xE6, 0xE6, 0x00, 0xFE, 0xFE,   // 0x0130 (304) pixels
  0xFE, 0xFE, 0x10, 0x10, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0x00, 0xFE, 0xFE, 0xFE, 0xFE, 0x82, 0x82,   // 0x0140 (320) pixels
  0x82, 0xFE, 0xFE, 0xFE, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFE, 0xFE, 0xFE,   // 0x0150 (336) pixels
  0xFE, 0x12, 0x12, 0x1E, 0x1E, 0x1E, 0x1E, 0x00, 0xFE, 0xFE, 0xFE, 0xFE, 0x82, 0x82, 0x82, 0xFE,   // 0x0160 (352) pixels
  0xFE, 0xFE, 0xFE, 0x00, 0xFE, 0xFE, 0xFE, 0xFE, 0x72, 0xF2, 0xFE, 0xFE, 0xDE, 0x9E, 0x00, 0xC6,   // 0x0170 (368) pixels
  0xC6, 0xC6, 0xC6, 0xC6, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0180 (384) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0190 (400) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x01A0 (416) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x01B0 (432) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x01C0 (448) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x01D0 (464) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x01E0 (480) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x01F0 (496) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0200 (512) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0210 (528) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0220 (544) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0x02, 0x02, 0xCE, 0xCE, 0xCE, 0xCE,   // 0x0230 (560) pixels
  0xCC, 0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0xFC, 0xF8,   // 0x0240 (576) pixels
  0xF0, 0xF8, 0xFE, 0xFE, 0xFE, 0xFE, 0xFE, 0x00, 0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0x00, 0xFE,   // 0x0250 (592) pixels
  0xFE, 0xFE, 0xFE, 0xFE, 0x02, 0x02, 0x86, 0xFE, 0xFE, 0xFE, 0xFC, 0x78, 0x00, 0x00, 0x80, 0x80,   // 0x0260 (608) pixels
  0x80, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0270 (624) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0280 (640) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0290 (656) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x02A0 (672) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,   // 0x02B0 (688) pixels
  0x00, 0x00, 0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00,   // 0x02C0 (704) pixels
  0x00, 0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x01,   // 0x02D0 (720) pixels
  0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01,   // 0x02E0 (736) pixels
  0x01, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x02F0 (752) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0300 (768) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0310 (784) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0320 (800) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0330 (816) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0340 (832) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0350 (848) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0360 (864) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0370 (880) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0380 (896) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0390 (912) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x03A0 (928) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x03B0 (944) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x03C0 (960) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x03D0 (976) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x03E0 (992) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x03F0 (1008) pixels
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,   // 0x0400 (1024) pixels
};
const uint8_t portada[] PROGMEM={//128x64
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x50, 0x00,
    0x10, 0x20, 0x50, 0x20, 0x70, 0x60, 0x50, 0xb0, 0x50, 0x30, 0x50, 0x20, 0x70, 0x20, 0x50, 0x40,
    0x51, 0xa0, 0x44, 0x00, 0x51, 0x00, 0x45, 0x80, 0x15, 0x03, 0x55, 0x0e, 0x15, 0x22, 0x55, 0x0a,
    0x14, 0x3c, 0x54, 0x08, 0x50, 0x10, 0x50, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x01, 0x00, 0x45, 0x00, 0x11, 0x00, 0x45, 0x00, 0x15, 0x02, 0x05, 0x02, 0x15, 0x00, 0x45, 0x00,
    0x11, 0x02, 0x55, 0x03, 0x15, 0xfa, 0x55, 0x02, 0x11, 0x00, 0x45, 0x02, 0x55, 0x20, 0x54, 0x80,
    0x15, 0x02, 0x55, 0x08, 0x55, 0x3e, 0x55, 0x80, 0x50, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00,
    0x10, 0x00, 0x40, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10, 0x00, 0x10, 0x00,
    0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x44, 0x00, 0x10, 0x00, 0x44, 0x00, 0x01, 0x00, 0x04, 0x00, 0x11, 0x00, 0x45, 0x00,
    0x51, 0x00, 0x45, 0x80, 0x11, 0x23, 0x55, 0x00, 0x11, 0x00, 0x45, 0x00, 0x11, 0x00, 0x55, 0x20,
    0x55, 0x82, 0x55, 0x80, 0x55, 0x00, 0x55, 0x80, 0x55, 0xa0, 0x50, 0x80, 0x40, 0x00, 0x40, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x01, 0x00, 0x05, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00,
    0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x10, 0x00, 0x04, 0x00, 0x51, 0x02, 0x54, 0x20, 0x10, 0x00, 0x00, 0x00, 0x51, 0x20, 0x44, 0x18,
    0x15, 0x00, 0x05, 0x00, 0x51, 0x20, 0x54, 0x00, 0x11, 0x00, 0x04, 0x00, 0x11, 0x00, 0x50, 0x00,
    0x11, 0x01, 0x05, 0x01, 0x11, 0x03, 0x45, 0x02, 0x15, 0x02, 0x05, 0x02, 0x15, 0x00, 0x00, 0x00,
    0x15, 0x03, 0x05, 0x0e, 0x15, 0x3e, 0x5d, 0xbe, 0x75, 0xa3, 0x55, 0x00, 0x55, 0xa0, 0x50, 0x80,
    0x15, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x10, 0x00, 0x04, 0x00, 0x10, 0x00, 0x50, 0x00,
    0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x80, 0x40, 0x00, 0x41, 0x80,
    0x41, 0x00, 0x40, 0x80, 0x41, 0x00, 0x40, 0x00, 0x41, 0x00, 0x01, 0x00, 0x15, 0x00, 0x44, 0x08,
    0x15, 0x00, 0x54, 0x00, 0x51, 0x00, 0x44, 0x00, 0x11, 0x00, 0x40, 0x00, 0x11, 0x00, 0x04, 0x00,
    0x11, 0x00, 0x14, 0x00, 0x11, 0x20, 0x50, 0x00, 0x11, 0x00, 0x14, 0x00, 0x11, 0x02, 0x54, 0x00,
    0x11, 0x00, 0x05, 0x00, 0x15, 0x00, 0x55, 0x00, 0x15, 0x3b, 0x55, 0xae, 0x55, 0xfa, 0xf5, 0xef,
    0x75, 0x00, 0x14, 0x00, 0x50, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x10, 0x00, 0x01, 0x02, 0x00, 0x00, 0x01, 0x00, 0x05, 0x00,
    0x01, 0x00, 0x05, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x40, 0x00, 0x01, 0x00, 0x40, 0x00,
    0x01, 0x00, 0x40, 0x00, 0x01, 0x00, 0x54, 0x00, 0x11, 0x00, 0x00, 0x00, 0x11, 0x00, 0x00, 0x00,
    0x05, 0x00, 0x01, 0x00, 0x11, 0x00, 0x00, 0x00, 0x01, 0x00, 0x05, 0x00, 0x01, 0x00, 0x00, 0x00,
    0x01, 0x00, 0x04, 0x00, 0x01, 0x00, 0x00, 0x00, 0x11, 0x00, 0x04, 0x00, 0x11, 0x00, 0x40, 0x00,
    0x11, 0x00, 0x01, 0x00, 0x15, 0x00, 0x55, 0x80, 0x55, 0x02, 0x55, 0x0a, 0x55, 0xaf, 0x55, 0xbf,
    0x77, 0xfe, 0x54, 0x00, 0x11, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00, 0x14, 0x00, 0x00, 0x00,
    0x10, 0x00, 0x10, 0x00, 0x10, 0x00, 0x50, 0x00, 0x10, 0x00, 0x11, 0x00, 0x11, 0x00, 0x04, 0x00,
    0x11, 0x00, 0x04, 0x00, 0x01, 0x00, 0x04, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0x00, 0x14, 0x36, 0x15, 0x00, 0x54, 0x00,
    0x11, 0x00, 0x00, 0x00, 0x11, 0x00, 0x04, 0x00, 0x11, 0x02, 0x45, 0x00, 0x15, 0x00, 0x55, 0x00,
    0x15, 0x03, 0x05, 0x00, 0x15, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x04, 0x00,
    0x15, 0x08, 0x10, 0x00, 0x01, 0x00, 0x40, 0x00, 0x11, 0x00, 0x40, 0x00, 0x11, 0x00, 0x50, 0x00,
    0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
const uint8_t enemigo01[] PROGMEM={//16x8
    0x00, 0x20, 0xDC, 0xFE, 0x77, 0x3F, 0x1F, 0x3E, 0x31, 0x28, 0x44, 0x00, 0x40, 0x20, 0x10, 0x00,   // 0x0010 (16) pixels
};
const uint8_t enemigo02[] PROGMEM={//16*8
    0x00, 0x20, 0xdc, 0xfe, 0x77, 0x3f, 0x1f, 0x3e, 0x30, 0x20, 0x40, 0x80, 0x00, 0x80, 0x80, 0x00
};
const uint8_t player[] PROGMEM={//16x8
    0x11, 0x1F, 0x1E, 0x9E, 0x76, 0xFE, 0xDC, 0xFE, 0x77, 0x7F, 0x5A, 0x72, 0x60, 0xE0, 0x50, 0x70,   // 0x0010 (16) pixels
};
const uint8_t player2[] PROGMEM={//16x8
    0x50, 0x30, 0x51, 0x22, 0x71, 0x7E, 0x5C, 0xFE, 0x57, 0xFE, 0x5C, 0x9C, 0x54, 0x88, 0x50, 0x20,   // 0x0010 (16) pixels
};
const uint8_t tierra[] PROGMEM={//8*58
    0x54, 0xe8, 0x40, 0x80, 0x40, 0x00, 0x00, 0x00, 0x55, 0xee, 0x55, 0xab, 0x54, 0x88, 0x40, 0x00,
    0x55, 0xee, 0x55, 0xbf, 0x55, 0xee, 0x55, 0xf8, 0x55, 0xee, 0x55, 0xbf, 0x55, 0xee, 0x55, 0xff,
    0x55, 0xee, 0x55, 0xff, 0x55, 0xee, 0x55, 0xff, 0x55, 0xae, 0x55, 0xff, 0x55, 0xae, 0x55, 0x01,
    0x55, 0xee, 0x55, 0x0f, 0x05, 0x00, 0x00, 0x00
};
const uint8_t flecha[] PROGMEM={//8x8
    0x0, 0x0, 0x81, 0x81, 0xC3, 0xC3, 0x66, 0x0,
};
const uint8_t flecha2[] PROGMEM={//8x4
    0x06, 0x0c, 0x08, 0x00, 0x00, 0x08, 0x0c, 0x06
};
const uint8_t bala[] PROGMEM={//8x8
    0x10, 0x10, 0x14, 0x2e, 0x55, 0x38, 0x54, 0x28
};
const uint8_t corazon[] PROGMEM={//8X6
    0X00 ,0x0e, 0x1e, 0x3c, 0x2e, 0x17, 0x0e, 0X00
};
const uint8_t conexion[] PROGMEM={
    0x17, 0x1d, 0x17, 0x30, 0x17, 0x1d, 0x17, 0x10
};
const uint8_t tierra2[11][56] PROGMEM={
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xf4, 0xa8, 0xf0, 0xa0, 0x00, 0x00, 0x00, 0xaa, 0x77, 0xaa, 0xdf, 0xaa, 0x77, 0xa8, 0x00, 0xaa, 0xf5, 0xaa, 0x7f, 0xaa, 0x77, 0xaa, 0x54, 0xaa, 0x77, 0xaa, 0x7d, 0xaa, 0x01, 0xaa, 0x00, 0xaa, 0x37, 0xaa, 0x10, 0x2a, 0x01, 0x00, 0x00, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x40, 0xa8, 0x50, 0xa0, 0x00, 0x00, 0x00, 0xaa, 0x01, 0xaa, 0x5f, 0xaa, 0x17, 0xa8, 0x00, 0xaa, 0x71, 0xaa, 0xdf, 0xaa, 0x77, 0xaa, 0x54, 0xaa, 0x37, 0xaa, 0x1f, 0xaa, 0x77, 0xaa, 0x01, 0xaa, 0x01, 0xaa, 0x40, 0x0a, 0x03, 0x00, 0x00, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00, 0xa8, 0x00, 0xa0, 0x00, 0x00, 0x00, 0xaa, 0x01, 0xaa, 0x40, 0xaa, 0x10, 0xa8, 0x00, 0xaa, 0x01, 0xaa, 0x00, 0xaa, 0x10, 0xaa, 0x54, 0xaa, 0x01, 0xaa, 0x00, 0xaa, 0x10, 0xaa, 0x01, 0xaa, 0x05, 0xaa, 0x00, 0x2a, 0x00, 0x00, 0x00, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x74, 0xa8, 0xc0, 0xa0, 0x00, 0x00, 0x00, 0xaa, 0x77, 0xaa, 0x5d, 0xaa, 0x10, 0xa8, 0x00, 0xaa, 0x47, 0xaa, 0x50, 0xaa, 0x10, 0xaa, 0x00, 0xaa, 0x11, 0xaa, 0xd5, 0xaa, 0x71, 0xaa, 0x00, 0xaa, 0x15, 0xaa, 0x5f, 0x2a, 0x03, 0x00, 0x00, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x44, 0xa8, 0xc0, 0xa0, 0x00, 0x00, 0x00, 0xaa, 0x77, 0xaa, 0xd7, 0xaa, 0x77, 0xa8, 0x00, 0xaa, 0x77, 0xaa, 0xc7, 0xaa, 0x51, 0xaa, 0x00, 0xaa, 0x01, 0xaa, 0x07, 0xaa, 0x71, 0xaa, 0x00, 0xaa, 0x01, 0xaa, 0x54, 0x2a, 0x03, 0x00, 0x00, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x34, 0xa8, 0xd0, 0xa0, 0x00, 0x00, 0x00, 0xaa, 0x01, 0xaa, 0x05, 0xaa, 0x77, 0xa8, 0x00, 0xaa, 0x01, 0xaa, 0x00, 0xaa, 0x11, 0xaa, 0x14, 0xaa, 0x01, 0xaa, 0x00, 0xaa, 0x10, 0xaa, 0x00, 0xaa, 0x01, 0xaa, 0x00, 0x0a, 0x00, 0x00, 0x00, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x54, 0xa8, 0x10, 0x80, 0x00, 0x00, 0x00, 0xaa, 0x01, 0xaa, 0x00, 0xaa, 0x10, 0xa8, 0x00, 0xaa, 0x01, 0xaa, 0x40, 0xaa, 0x10, 0xaa, 0x00, 0xaa, 0x01, 0xaa, 0x00, 0xaa, 0x10, 0xaa, 0x00, 0xaa, 0x05, 0xaa, 0x00, 0x2a, 0x00, 0x00, 0x00, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x14, 0xa8, 0x50, 0xa0, 0x00, 0x00, 0x00, 0xaa, 0x11, 0xaa, 0x05, 0xaa, 0x10, 0xa8, 0x00, 0xaa, 0x01, 0xaa, 0x00, 0xaa, 0x10, 0xaa, 0x00, 0xaa, 0x01, 0xaa, 0x40, 0xaa, 0x10, 0xaa, 0x00, 0xaa, 0x05, 0xaa, 0x00, 0x2a, 0x00, 0x00, 0x00, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x14, 0xa8, 0x00, 0xa0, 0x00, 0x00, 0x00, 0xaa, 0x17, 0xaa, 0x54, 0xaa, 0x11, 0xa8, 0x00, 0xaa, 0x03, 0xaa, 0x00, 0xaa, 0x10, 0xaa, 0x00, 0xaa, 0x01, 0xaa, 0x00, 0xaa, 0x10, 0xaa, 0x00, 0xaa, 0x73, 0xaa, 0x04, 0x0a, 0x00, 0x00, 0x00, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x74, 0xa8, 0xd0, 0x80, 0x00, 0x00, 0x00, 0xaa, 0x77, 0xaa, 0xdf, 0xaa, 0x77, 0xa8, 0x00, 0xaa, 0x57, 0xaa, 0xdf, 0xaa, 0x77, 0xaa, 0x00, 0xaa, 0x01, 0xaa, 0xd5, 0xaa, 0x51, 0xaa, 0x00, 0xaa, 0x01, 0xaa, 0x45, 0x0a, 0x01, 0x00, 0x00, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00},
    {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0xf4, 0xa8, 0xf0, 0xa0, 0x00, 0x00, 0x00, 0xaa, 0x77, 0xaa, 0xff, 0xaa, 0x77, 0xa8, 0x00, 0xaa, 0x57, 0xaa, 0x7f, 0xaa, 0x77, 0xaa, 0x54, 0xaa, 0x11, 0xaa, 0x00, 0xaa, 0x11, 0xaa, 0x01, 0xaa, 0x11, 0xaa, 0x00, 0x2a, 0x01, 0x00, 0x00, 0x02, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
};
const uint8_t tierra3[12][32] PROGMEM={
    {0x77, 0xbf, 0x55, 0xae, 0x54, 0xb0, 0x40, 0x00, 0x57, 0x23, 0x55, 0x8f, 0x57, 0x3a, 0x55, 0xf8, 0x75, 0xfa, 0xdd, 0xea, 0x55, 0xa2, 0xd5, 0x3f, 0x77, 0xff, 0x7f, 0x3f, 0x15, 0x0f, 0x01, 0x00},
    {0x77, 0xff, 0xdd, 0xfe, 0x54, 0xb0, 0x40, 0x00, 0x77, 0xff, 0xdf, 0xff, 0x55, 0x23, 0x55, 0xa8, 0x57, 0xff, 0xdf, 0xff, 0x75, 0xfe, 0x55, 0x2a, 0x77, 0xff, 0x7f, 0x3f, 0x17, 0x0f, 0x01, 0x00},
    {0x55, 0xbb, 0xdf, 0xfe, 0x74, 0xf0, 0x40, 0x00, 0x77, 0xff, 0xdf, 0xff, 0x77, 0xff, 0xd5, 0xa8, 0x55, 0x23, 0x57, 0xaf, 0x57, 0xff, 0xfd, 0x3f, 0x57, 0xfa, 0x75, 0x3e, 0x17, 0x0f, 0x01, 0x00},
    {0x57, 0xbf, 0x5d, 0xfe, 0x74, 0xf0, 0xc0, 0x00, 0x55, 0x7a, 0x55, 0xff, 0x77, 0xff, 0xdd, 0xf8, 0x77, 0xff, 0xdf, 0xef, 0x55, 0x23, 0x55, 0x3f, 0x77, 0xff, 0x5f, 0x3f, 0x15, 0x0e, 0x01, 0x00},
    {0x57, 0x3f, 0x55, 0xbe, 0x54, 0xf0, 0xc0, 0x00, 0x77, 0xfe, 0xd5, 0xea, 0x55, 0xbf, 0x5d, 0xf8, 0x77, 0xff, 0xdf, 0xff, 0x77, 0xff, 0x55, 0x2a, 0x77, 0xff, 0x7f, 0x3f, 0x17, 0x0f, 0x01, 0x00},
    {0x77, 0xff, 0xd5, 0xee, 0x54, 0xb0, 0x40, 0x00, 0x77, 0xff, 0xdf, 0xff, 0x75, 0xfa, 0xd5, 0xf8, 0x77, 0xff, 0xdf, 0xff, 0x77, 0xff, 0xfd, 0x3f, 0x77, 0xff, 0x7f, 0x3f, 0x17, 0x0f, 0x01, 0x00},
    {0x77, 0xff, 0xd5, 0xfe, 0x74, 0xf0, 0x40, 0x00, 0x77, 0xff, 0xdf, 0xff, 0x77, 0xff, 0xdd, 0xf8, 0x77, 0xff, 0xdf, 0xff, 0x77, 0xff, 0xfd, 0x3f, 0x77, 0xff, 0x7f, 0x3f, 0x17, 0x0f, 0x01, 0x00},
    {0x77, 0xff, 0xd5, 0xfe, 0x74, 0xf0, 0xc0, 0x00, 0x77, 0xff, 0xdf, 0xff, 0x77, 0xff, 0xdd, 0xf8, 0x57, 0xff, 0xdf, 0xff, 0x77, 0xff, 0xfd, 0x3f, 0x75, 0xfb, 0x7f, 0x3f, 0x17, 0x0f, 0x01, 0x00},
    {0x57, 0x2f, 0x57, 0xfe, 0x74, 0xf0, 0xc0, 0x00, 0x55, 0xea, 0x5d, 0xff, 0x77, 0xff, 0xdd, 0xf8, 0x77, 0xff, 0x5d, 0xff, 0x57, 0xff, 0xfd, 0x3f, 0x77, 0xfb, 0x75, 0x3a, 0x15, 0x0f, 0x01, 0x00},
    {0x57, 0x2b, 0x55, 0xae, 0x54, 0xf0, 0xc0, 0x00, 0x55, 0xea, 0x55, 0x8a, 0x75, 0xff, 0xdd, 0xf8, 0x75, 0xff, 0xdf, 0xef, 0x57, 0xfb, 0x5d, 0x3f, 0x77, 0xff, 0x7f, 0x3f, 0x15, 0x0e, 0x01, 0x00},
    {0x57, 0xaf, 0x55, 0xae, 0x54, 0xb0, 0x40, 0x00, 0x55, 0xa2, 0xd5, 0xea, 0x55, 0xe2, 0xd5, 0xf8, 0x75, 0xff, 0xdf, 0xff, 0x75, 0xff, 0xf5, 0x3f, 0x75, 0xff, 0x7f, 0x3f, 0x17, 0x0f, 0x01, 0x00},
    {0x57, 0xaf, 0x55, 0xae, 0x54, 0xb0, 0x40, 0x00, 0x57, 0x2f, 0x55, 0x8b, 0x55, 0xfa, 0xd5, 0xf8, 0x55, 0x22, 0x55, 0xfa, 0x75, 0xff, 0xfd, 0x3f, 0x75, 0xfa, 0x7d, 0x3f, 0x17, 0x0f, 0x01, 0x00}
};
const uint8_t fotonave[] PROGMEM={
    0x88, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x80, 0x80, 0xc0, 0xc0, 0xc0, 0xe0, 0xe0, 0xe8, 0x60, 0x20, 0x60, 0xa8, 0x70, 0xa0, 0xf0, 0xe8, 0xf0, 0xe0, 0xf0, 0xe8, 0xe0, 0xe0, 0xe0, 0xe8, 0xc0, 0xe0, 0xc0, 0xc0, 0xc0, 0xa0, 0x80, 0x80, 0x80, 0x80, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x80, 0x00, 0x20, 0x00, 0x88, 0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x28, 0x46, 0xaa, 0x07, 0x8b, 0x07, 0xab, 0x03, 0xaa, 0x45, 0xaa, 0x51, 0xaa, 0x45, 0xaa, 0x11, 0xaa, 0x45, 0xaa, 0xc1, 0x8a, 0x45, 0xaa, 0x41, 0xaa, 0x41, 0xaa, 0x51, 0xaa, 0x05, 0x2b, 0x07, 0xaa, 0x07, 0x8b, 0x17, 0xab, 0x4f, 0xab, 0x1f, 0xae, 0x5e, 0x2e, 0x7c, 0xac, 0x7c, 0xb8, 0x70, 0xe8, 0xf0, 0xe0, 0xc0, 0xc0, 0xc0, 0x82, 0xc0, 0x80, 0x80, 0x82, 0x00, 0x88, 0x00, 0x02, 0x00, 0x88, 0x00, 0xa2, 0x00, 0x88, 0x00, 0xa2, 0x00, 0x88, 0x00, 0xa2, 0x00, 0x88, 0x00, 0xa2, 0x00, 0xaa, 0x00, 0xa0, 0x00, 0x88, 0x00, 0xaa, 0x00, 0xa8, 0x40, 0xa0, 0x00, 0xa8, 0x00, 0xaa, 0x00, 0xa8, 0x40, 0xaa, 0x00, 0xa8, 0x40, 0xaa, 0x00, 0xa8, 0xc0, 0xaa, 0xc0, 0xa8, 0xc0, 0xaa, 0xc0, 0xa8, 0xc0, 0xaa, 0xc0, 0xa8, 0xc0, 0xaa, 0xc0, 0x88, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x01, 0x02, 0x07, 0x0a, 0x0c, 0x8a, 0x1c, 0x3a, 0x70, 0xea, 0x74, 0xaa, 0xd4, 0xaa, 0xb5, 0xaa, 0x75, 0xaa, 0x75, 0xaa, 0x75, 0xea, 0xd4, 0xaa, 0xd5, 0xaa, 0xdc, 0xaa, 0x55, 0xaa, 0xc4, 0xaa, 0x55, 0xaa, 0xdc, 0xa8, 0x50, 0xaa, 0xd4, 0xaa, 0x50, 0xaa, 0x44, 0xa2, 0x41, 0xaa, 0xc5, 0xaa, 0x15, 0xaa, 0x07, 0xab, 0x5f, 0xae, 0x5f, 0xbf, 0x7f, 0xbe, 0xfe, 0xfe, 0xfc, 0xe8, 0xf8, 0xba, 0xb0, 0xaa, 0xb4, 0xaa, 0x30, 0xaa, 0x34, 0x3a, 0x30, 0xaa, 0x1c, 0x3a, 0x1c, 0xba, 0x1c, 0x3a, 0x3c, 0xae, 0xfc, 0xbe, 0xfd, 0xee, 0xfc, 0xbe, 0xff, 0xee, 0xfe, 0xae, 0xff, 0xee, 0xff, 0xaa, 0xff, 0xae, 0xff, 0xab, 0xff, 0xaa, 0xff, 0xab, 0xff, 0xaa, 0xdf, 0xaa, 0xff, 0xaa, 0xdf, 0xaa, 0xff, 0xaa, 0xdf, 0xaa, 0xff, 0x88, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x00, 0x88, 0x00, 0x00, 0x00, 0x80, 0x00, 0xa0, 0x00, 0x88, 0x00, 0xa0, 0x01, 0x88, 0x01, 0xa2, 0x03, 0x8a, 0x04, 0xaa, 0x0c, 0xa8, 0x59, 0xab, 0x33, 0xaa, 0xc7, 0xae, 0xcd, 0xce, 0xdd, 0xba, 0x35, 0xaa, 0x5d, 0xaa, 0xff, 0xaa, 0xdd, 0xaa, 0x5f, 0xaa, 0x5d, 0xaa, 0x5f, 0xaa, 0x5d, 0xaa, 0x5c, 0xaa, 0x5c, 0xaa, 0x7c, 0xaa, 0x70, 0xaa, 0x74, 0xa8, 0xd0, 0xaa, 0xf5, 0xaa, 0xd7, 0xab, 0xd7, 0xaf, 0xdf, 0xaf, 0x7f, 0xae, 0xfe, 0xbe, 0x7c, 0xec, 0xfc, 0xb8, 0xf8, 0xf8, 0xf0, 0xea, 0xfc, 0xee, 0xff, 0xaa, 0xff, 0xea, 0xff, 0xaa, 0xff, 0xaa, 0xff, 0xaa, 0xff, 0xaa, 0xfd, 0xaa, 0xff, 0xaa, 0xdf, 0xaa, 0xff, 0xaa, 0xdd, 0xaa, 0xff, 0xaa, 0xdf, 0xaa, 0xff, 0xaa, 0xfd, 0xaa, 0xff, 0xaa, 0xfd, 0xaa, 0xff, 0xa8, 0x00, 0xa0, 0x00, 0x88, 0x00, 0xa2, 0x00, 0xa8, 0x40, 0xaa, 0x00, 0xa8, 0x40, 0xaa, 0x80, 0xa8, 0xc0, 0xaa, 0xd0, 0xea, 0xe4, 0xea, 0xf0, 0xfa, 0xfc, 0xfa, 0xfc, 0xea, 0xfc, 0xfe, 0xff, 0xfe, 0xff, 0xfe, 0xff, 0xff, 0xff, 0xbf, 0xff, 0xfe, 0xff, 0xff, 0xff, 0xee, 0xfe, 0xbe, 0xfd, 0xee, 0xfd, 0xfa, 0xf6, 0xea, 0xc0, 0xaa, 0x11, 0xaa, 0x10, 0x2a, 0x15, 0xaa, 0x0d, 0x2a, 0x1f, 0x8a, 0x1d, 0xaa, 0x1d, 0xaa, 0x7d, 0xba, 0x1d, 0x8a, 0x5d, 0xba, 0x15, 0xaa, 0x7d, 0xba, 0x77, 0xea, 0xf5, 0xea, 0xf7, 0xea, 0xfd, 0xea, 0x77, 0xea, 0x5d, 0x2a, 0x7f, 0xaa, 0x3f, 0x2b, 0x17, 0x8a, 0x1f, 0xaa, 0x1f, 0xae, 0x15, 0x22, 0x03, 0x8a, 0x11, 0x02, 0x01, 0x8a, 0xc1, 0xaa, 0xff, 0xaa, 0xfd, 0xaa, 0xf7, 0xae, 0xfd, 0xba, 0x7f, 0xae, 0xfd, 0xaa, 0xff, 0xae, 0xdf, 0xaa, 0xdf, 0xea, 0xf0, 0xea, 0xf0, 0xea, 0xfc, 0xfa, 0xfc, 0xfe, 0xfc, 0xfe, 0xff, 0xee, 0xff, 0xbf, 0xff, 0xfe, 0xff, 0xff, 0xff, 0xee, 0xff, 0xbf, 0xff, 0xee, 0xff, 0xbf, 0xff, 0xaf, 0xff, 0xaf, 0xff, 0xee, 0xff, 0xab, 0xff, 0xee, 0xff, 0xab, 0xff, 0xee, 0xff, 0xfa, 0xff, 0xee, 0xff, 0xff, 0xff, 0xfe, 0xff, 0xbb, 0xff, 0xae, 0xff, 0xaf, 0xff, 0xee, 0xfe, 0xea, 0xfe, 0xee, 0xfe, 0xba, 0xfe, 0xbe, 0xff, 0xaa, 0xff, 0xae, 0xdc, 0xaa, 0xfc, 0xaa, 0xfc, 0xaa, 0xfc, 0xaa, 0xfc, 0xaa, 0x78, 0xaa, 0xd4, 0xaa, 0xf1, 0xa8, 0xf1, 0xab, 0x63, 0xaa, 0xc6, 0xae, 0x4c, 0x8e, 0x9c, 0xba, 0x18, 0xba, 0x7c, 0xba, 0x70, 0xea, 0xf4, 0xea, 0xf4, 0xea, 0xf4, 0xea, 0xf6, 0xea, 0xfd, 0xea, 0xf5, 0xaa, 0xfd, 0xba, 0x7d, 0xae, 0xdd, 0xbe, 0x7f, 0xae, 0xff, 0xab, 0x77, 0xae, 0x5f, 0xab, 0x7f, 0xfe, 0xff, 0xfb, 0xff, 0xee, 0xff, 0xbf, 0xff, 0xee, 0xff, 0xff, 0xff, 0xee, 0xff, 0xaf, 0xff, 0xae, 0xff, 0xab, 0xff, 0xaa, 0xdf, 0xaa, 0xff, 0xaa, 0xfd, 0xaa, 0xff, 0xaa, 0xff, 0xaa, 0xff, 0xae, 0xff, 0xab, 0xff, 0xae, 0xdf, 0xaf, 0xff, 0xee, 0xff, 0xfb, 0xff, 0xee, 0xff, 0xaf, 0xff, 0xae, 0xdf, 0xaa, 0xff, 0xae, 0xdf, 0xab, 0xff, 0xaa, 0xdf, 0xaa, 0xf7, 0xaa, 0xdd, 0xaa, 0xf7, 0xaa, 0xdd, 0xaa, 0xf7, 0xaa, 0xdd, 0xaa, 0xf7, 0xaa, 0xfd, 0xaa, 0xf5, 0xaa, 0xdd, 0xaa, 0xfd, 0xaa, 0xdd, 0xaa, 0xf5, 0xaa, 0xdd, 0xaa, 0xd7, 0xea, 0xfd, 0xaa, 0xf5, 0xaa, 0xdd, 0xba, 0xdf, 0xae, 0xde, 0xaa, 0xd4, 0xae, 0xdc, 0xaa, 0x51, 0xaa, 0xd3, 0xab, 0xd7, 0xae, 0xcf, 0xab, 0x5f, 0x8e, 0x9f, 0xbe, 0x3d, 0xba, 0x75, 0xea, 0xd5, 0xea, 0xd4, 0xaa, 0xd5, 0xea, 0xc4, 0xaa, 0xf5
};
const uint8_t sissolar[] PROGMEM={
    0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x80, 0x10, 0x08, 0x05, 0x00, 0x00, 0x02, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01, 0x80, 0x40, 0x00, 0x01, 0x20, 0x10, 0x00, 0x11, 0x80, 0x51, 0xe0, 0x51, 0xa0, 0x51, 0xe0, 0x50, 0x82, 0x10, 0x20, 0x01, 0x20, 0x04, 0x20, 0x44, 0x00, 0x41, 0x08, 0x51, 0x00, 0x10, 0x80, 0x10, 0x20, 0x44, 0x80, 0x41, 0x80, 0xd1, 0xc0, 0xd0, 0xe0, 0xd4, 0xe0, 0x55, 0xe8, 0xd4, 0xe8, 0xf1, 0xf0, 0xd0, 0xe0, 0x55, 0xe0, 0xd0, 0x88, 0x51, 0x80, 0x51, 0x00, 0x01, 0x00, 0x44, 0x00, 0x01, 0x00, 0x10, 0xa0, 0x54, 0xbe, 0x54, 0xfe, 0x55, 0xfe, 0x55, 0xfe, 0x54, 0xa8, 0x50, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x03, 0x10, 0x80, 0x01, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x0a, 0x41, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x15, 0x03, 0x55, 0x28, 0x55, 0x3b, 0x55, 0x7f, 0x77, 0x3f, 0x1f, 0x02, 0x01, 0x02, 0x00, 0x02, 0x10, 0x02, 0x04, 0x00, 0x55, 0x80, 0x54, 0xf8, 0x75, 0xfb, 0x5d, 0xff, 0x5f, 0xbf, 0x57, 0xaf, 0x57, 0xbf, 0x57, 0xaf, 0x57, 0xbf, 0x57, 0xff, 0x77, 0xff, 0x57, 0xff, 0x77, 0xff, 0xdf, 0xff, 0xf7, 0xff, 0xfd, 0xfe, 0x75, 0xfa, 0xd4, 0xe0, 0x50, 0x80, 0x11, 0x00, 0x11, 0x23, 0x45, 0x0f, 0x15, 0x0b, 0x15, 0x03, 0x15, 0x23, 0x45, 0x00, 0x04, 0x00, 0x01, 0x00, 0x11, 0x22, 0x04, 0x00, 0x40, 0x00, 0x10, 0x00, 0x11, 0x00, 0x40, 0xf0, 0x50, 0xa8, 0x54, 0xe8, 0x11, 0x20, 0x44, 0x80, 0x11, 0x00, 0x44, 0x80, 0x11, 0x00, 0x44, 0x00, 0x11, 0x00, 0x40, 0x00, 0x11, 0x02, 0x44, 0x08, 0x11, 0x20, 0x40, 0x80, 0x11, 0x00, 0x40, 0x00, 0x10, 0x01, 0x44, 0x08, 0x11, 0x20, 0x40, 0x80, 0x10, 0x00, 0x00, 0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x01, 0x00, 0x00, 0x00, 0x10, 0x00, 0x54, 0xa8, 0x55, 0xff, 0xff, 0xff, 0x77, 0xff, 0xd5, 0xfa, 0x55, 0xab, 0x55, 0xaa, 0x55, 0xa2, 0x55, 0xaa, 0x55, 0x3b, 0x55, 0xaf, 0x55, 0xbb, 0x55, 0xff, 0x77, 0xff, 0x5d, 0xff, 0x77, 0xff, 0x55, 0xff, 0x57, 0xff, 0xff, 0xff, 0xf7, 0xba, 0x55, 0x48, 0x51, 0x82, 0x10, 0x20, 0x54, 0x00, 0x01, 0x00, 0x11, 0x22, 0x44, 0x00, 0x00, 0x00, 0x11, 0x00, 0x01, 0x02, 0x44, 0x00, 0x00, 0x00, 0x10, 0x00, 0x01, 0x22, 0x45, 0x0e, 0x15, 0x3b, 0x55, 0x3f, 0x55, 0xa2, 0x55, 0xa8, 0x55, 0xba, 0x55, 0xf8, 0x55, 0xf8, 0x55, 0xe0, 0x51, 0xa0, 0x55, 0xa8, 0x55, 0x20, 0x54, 0xaa, 0x55, 0xba, 0x55, 0xfe, 0x55, 0xba, 0x55, 0xfc, 0x55, 0xba, 0x55, 0xfe, 0x55, 0xbe, 0x55, 0xee, 0x55, 0xa2, 0x54, 0x84, 0x15, 0x00, 0x10, 0x20, 0x51, 0x00, 0x40, 0x80, 0x11, 0x02, 0x04, 0x00, 0x11, 0x00, 0x55, 0x2a, 0x57, 0xff, 0x7f, 0xff, 0xf7, 0xff, 0xff, 0xff, 0x77, 0xff, 0xdd, 0xff, 0x75, 0xff, 0x55, 0xfe, 0x75, 0xfa, 0x55, 0xfa, 0x55, 0xba, 0x55, 0xea, 0x55, 0xbb, 0x55, 0xab, 0x55, 0xbb, 0x55, 0xeb, 0x55, 0xff, 0xfd, 0xff, 0x57, 0x3b, 0x55, 0x00, 0x15, 0x08, 0x11, 0x20, 0x50, 0x00, 0x04, 0x08, 0x11, 0x22, 0x44, 0x00, 0x01, 0x00, 0x11, 0x20, 0x01, 0x00, 0x04, 0x08, 0x10, 0x00, 0x01, 0x00, 0x41, 0x00, 0x04, 0x08, 0x10, 0x00, 0x01, 0x00, 0x55, 0xbb, 0x55, 0xea, 0x55, 0xbb, 0x55, 0xaa, 0x55, 0xbb, 0x55, 0xaf, 0x55, 0xbb, 0x55, 0xaf, 0x57, 0xbf, 0x5d, 0xfb, 0x55, 0x33, 0x55, 0xfb, 0x55, 0xbb, 0x55, 0xff, 0x55, 0xbb, 0x55, 0xbf, 0x55, 0x2b, 0x55, 0x8b, 0x55, 0xaf, 0x55, 0xa8, 0x55, 0x32, 0x55, 0x00, 0x51, 0x80, 0x50, 0x00, 0x11, 0x82, 0x44, 0xe4, 0x55, 0x28, 0x54, 0x08, 0x55, 0x3a, 0x5d, 0x3f, 0x77, 0x3f, 0x5f, 0xff, 0x7f, 0xff, 0xff, 0xff, 0xf7, 0xff, 0xdd, 0xfe, 0x75, 0xfb, 0xd5, 0xff, 0x55, 0xfb, 0xd5, 0xee, 0x55, 0xfb, 0xd5, 0xff, 0x75, 0xff, 0x55, 0xbf, 0x57, 0x2f, 0x55, 0x0a, 0x15, 0x00, 0x40, 0x00, 0x11, 0x10, 0x00, 0x00, 0x00, 0x00, 0x01, 0x02, 0x05, 0x20, 0x44, 0x00, 0x10, 0x00, 0x41, 0x00, 0x05, 0x00, 0x10, 0x00, 0x01, 0x02, 0x04, 0x08, 0x11, 0x20, 0x41, 0x80, 0x10, 0x08, 0x44, 0x00, 0x55, 0xbb, 0x55, 0xfe, 0x55, 0xfb, 0x55, 0xfe, 0x55, 0xbb, 0x55, 0xee, 0x55, 0xbb, 0x55, 0xba, 0x55, 0xbb, 0x55, 0xef, 0x57, 0x3a, 0x55, 0x0a, 0x55, 0x23, 0x55, 0x02, 0x55, 0x02, 0x55, 0x08, 0x15, 0x22, 0x45, 0x42, 0x55, 0x82, 0x55, 0x0a, 0x55, 0x20, 0x55, 0x80, 0x55, 0xba, 0x45, 0x00, 0x55, 0x23, 0x55, 0x0a, 0x55, 0xaa, 0x55, 0x00, 0x55, 0x02, 0x55, 0x00, 0x15, 0x02, 0x55, 0xe0, 0x55, 0xab, 0x55, 0x8f, 0x55, 0x23, 0x15, 0x0b, 0x17, 0x1b, 0x17, 0x2f, 0x17, 0x23, 0x55, 0x4b, 0x55, 0x03, 0x55, 0x8b, 0x15, 0x02, 0x55, 0x02, 0x15, 0x00, 0x04, 0x00, 0x14, 0x00, 0x04, 0x08, 0x01, 0x08, 0x00, 0x08, 0x05, 0x00, 0x04, 0x00, 0x01, 0x01, 0x00, 0x00, 0x11, 0x00, 0x40, 0xf0, 0x71, 0xbc, 0x5c, 0xac, 0x55, 0x3e, 0x54, 0xa8, 0x51, 0xa0, 0x40, 0x00, 0x11, 0x02, 0x04, 0x08, 0x55, 0xab, 0x55, 0xeb, 0x55, 0xa3, 0x55, 0xeb, 0x55, 0xa3, 0x55, 0xab, 0x55, 0xa3, 0x55, 0xaa, 0x55, 0x23, 0x55, 0x08, 0x15, 0x00, 0x04, 0x00, 0x11, 0x00, 0x45, 0x00, 0x11, 0x00, 0x40, 0x00, 0x11, 0x00, 0x55, 0x28, 0x55, 0x00, 0x55, 0x09, 0x55, 0x22, 0x55, 0x0c, 0x55, 0x2b, 0x54, 0x00, 0x15, 0x22, 0x45, 0x00, 0x51, 0x80, 0x45, 0x00, 0x11, 0x00, 0x05, 0x00, 0x11, 0x02, 0x55, 0x03, 0x15, 0x03, 0x15, 0x03, 0x15, 0x00, 0x04, 0x08, 0x01, 0x00, 0x14, 0x00, 0x11, 0x20, 0x54, 0x00, 0x51, 0x00, 0x54, 0x80, 0x51, 0xa1, 0x55, 0x80, 0x51, 0x02, 0x44, 0x02, 0x00, 0x00, 0x04, 0x00, 0x05, 0x00, 0x44, 0x00, 0x10, 0x00, 0x00, 0x08, 0x01, 0x08, 0x00, 0x08, 0x11, 0x08, 0x05, 0x07, 0x15, 0x03, 0x15, 0x08, 0x15, 0x02, 0x15, 0x08, 0x15, 0x02, 0x05, 0x00, 0x10, 0x00, 0x44, 0x00, 0x55, 0x23, 0x55, 0x2b, 0x55, 0x23, 0x55, 0x2a, 0x55, 0x23, 0x15, 0x0a, 0x15, 0x02, 0x45, 0x00, 0x11, 0x02, 0x44, 0x08, 0x11, 0x10, 0x10, 0x20, 0x51, 0x00, 0x45, 0x80, 0x11, 0x00, 0x45, 0x00, 0x11, 0x00, 0x45, 0x00, 0x51, 0x20, 0x55, 0x00, 0x15, 0x02, 0x55, 0x00, 0x51, 0x02, 0x55, 0x00, 0x15, 0x00, 0x45, 0x00, 0x51, 0x00, 0x51, 0x00, 0x11, 0x02, 0x04, 0x00, 0x05, 0x00, 0x01, 0x08, 0x11, 0x10, 0x10, 0x20, 0x50, 0x00, 0x54, 0x80, 0x11, 0x80, 0x44, 0x00, 0x51, 0x00, 0x55, 0x80, 0x55, 0xba, 0x55, 0x2f, 0x55, 0x3b, 0x55, 0x0b, 0x55, 0x23, 0x55, 0x02, 0x11, 0x02, 0x04, 0x04, 0x15, 0x80, 0xc4, 0xc8, 0x50, 0x68, 0x40, 0xa8, 0x71, 0xa0, 0x54, 0xe0, 0x51, 0x90, 0x54, 0x18, 0x55, 0x32, 0x55, 0x88, 0x55, 0x30, 0x54, 0x08, 0x55, 0x08, 0x54, 0x08, 0x55, 0x02, 0x55, 0xe2
};

bool drawCollisionableBitmap(int,int,uint8_t*,int,int);//Dibuja un objeto y dice si colisiono
bool conectado=true;

struct Sprite{//Se crea un dato de tipo sprite por cada jugador, enemigo, bala, etc que requiera moverse
    byte posx,posy;//Posicion del sprite
    byte type;//Tipo de sprite (Estan definidos arriba)
    byte posory;//Posicion de origen

    void ini(byte t,byte px,byte py){//inicializa el sprite
        byte mod=32;
        type=t;//asigna el tipo de sprite VER tipos arriba
        posx=px;//asigna posicion en x
        posy=posory=py;//asigna posicion en y
        if(type==ENEMIGO)
            posy=posory+(posx%mod>mod/2?map(posx%mod,mod-1,mod/2,0,8):map(posx%mod,mod/2,0,8,0));
    }

    byte getAlto(){
        return 8;
    }

    byte getAncho(){
        byte ancho=0;
        switch(type){
            case ENEMIGO:
            case PLAYER:
                ancho=16;
                break;
            default:
                ancho=8;
        }
        return ancho;
    }

    byte getPosX(){
        return posx;
    }

    byte getPosY(){
        if(type==ENEMIGO)
            return posory;
        else
            return posy;
    }

    bool draw(byte variante){//Dibuja el sprite
        int ancho=getAncho();
        int alto=getAlto();
        bool high=false;
        switch(type){
            case ENEMIGO:
                if(variante==0)
                    high=drawCollisionableBitmap(posx,posy,(uint8_t*)enemigo01,ancho,alto);
                else
                    high=drawCollisionableBitmap(posx,posy,(uint8_t*)enemigo02,ancho,alto);
                break;
            case BALA:
                high=drawCollisionableBitmap(posx,posy,(uint8_t*)bala,ancho,alto);
                break;
            case PLAYER:
                high=drawCollisionableBitmap(posx,posy,(uint8_t*)player,ancho,alto);
                break;
            default:
                high=drawCollisionableBitmap(posx,posy,(uint8_t*)player,ancho,alto);
        }
        return high;
    }
    bool draw(){//Dibuja la imagen principal
        return draw(0);
    }

    void drawRect(){//Dibuja un rectangulo al rededor del sprite
        int ancho=getAncho();
        int alto=getAlto();
        myOLED.drawRect((int)posx,(int)posy,(int)posx+ancho,(int)posy+alto);
    }

    bool isNearOf(Sprite p){//Comprueba si un sprite esta cerca de otro
        int ancho=getAncho();
        int alto=getAlto();
        int ancho2=p.getAncho();
        int alto2=p.getAlto();
        return p.posx>(int)posx-ancho2 && p.posx<(int)posx+ancho2+ancho && p.posy>(int)posy-alto2 && p.posy<(int)posy+alto2+alto;
    }

    bool operator >(const Sprite &p){
        return posx==p.posx?posy>p.posy:posx>p.posx;
    }
    bool operator <(const Sprite &p){
        return posx==p.posx?posy<p.posy:posx<p.posx;
    }
    bool operator +=(const byte &v){
        posx+=v;
    }
    bool operator -=(const byte &v){
        posx-=v;
        if(type==ENEMIGO){
            byte mod=32;
            posy=posory+(posx%mod>mod/2?map(posx%mod,mod-1,mod/2,0,8):map(posx%mod,mod/2,0,8,0));
        }
    }
};

int readJoystick(byte,int,int);//Convierte los valores del joystick a valores que se suman a las cordenadas
void barraDeCarga();//Muestra una barra de carga
void barraDeEstado();//Dibuja la barra de estado
void draw();//actualiza los elementos en la pantalla
void drawTierra();//anima la tierra
bool getPixel(uint16_t,uint16_t);
void moverplayer();//Cambia la posicion del jugador de acuerdo al joystick
void disparar();//Dispara y realiza el avance de las balas
void destruirSprite(byte,Sprite[],byte &);//Elimina un sprite
void generarEnemigo();//genera nuevos enemigos
void avanceEnemigo();//Crear y avanza enemigos
void drawEnemigos();//dibuja enemigos y detecta las coliciones
void packplayer();
void packbalas();
int getColision(Sprite,Sprite[],byte);//busca el objeto con el que cooliciono
//void writeByte(byte,byte,byte,int);
//byte readByte(byte,byte,int);
void writeByte(byte,byte,byte);
byte readByte(byte,byte);
void sendSprites(Sprite[],byte,byte,byte,int);
void recibeSprites(Sprite[],byte&,byte,byte,int);
void iniConexion1(int);
void iniConexion2(int);

byte MAXBALAS=3;//Maximo numero de balas al mismo tiempo
byte VELBALAS=5;//Velocidad delas valas
byte RECARGA=6;//Tiempo que toma la nave para lanzar la siguiente bala
byte MAXENEMIGOS=5;//Maximo numero de enemigos al mismo tiempo
byte VELENEMIGOS=1;//Velocidad de los enemigos
byte SEPENEMIGOS=20;//Tiempo que pasa entre la generacion de un nuevo enemigo
byte VELPLAYER=5;//Velocidad maxima del jugador
byte INMUNIDAD=100;//Tiempo de inmunidad del jugador despues de sufrir daño

Sprite players[4];
Sprite otherbalas[20];
byte nplayers=0;
byte notherbalas=0;
byte x[5],y[5],con=254;//Posicion de las estrellas(En desuso)
Sprite playerP,playerP2;//Sprite del jugador
Sprite balas[10];//sprites de las balas
Sprite enemigos[10];//sprites de los enemigos
byte nbalas=0;//numero de balas actualmente
byte nEnemigos=0;//numero de enemigos actualmente
byte recargabalas=0;//Controla que las balas se disparen cada determinado tiempo
byte genenemigos=0;//Controla que los enemigos se generen cada determinado tiempo
byte inmunidad=0;//inmunidad del jugador
byte nvidas=3;//numero de vidas
byte animtierra=0;//control de la animacion de la tierra
int npuntos=0;//puntos del jugador
unsigned long time=0;//tiempo
unsigned long trtime=0;//Tiempo para transmitir(se usa para detectar errores de conexion)

bool conectado1=false;
bool conectado2=false;

void setup(){
    Serial.begin(9600);
    if(!myOLED.begin(SSD1306_128X64))
        while(1);   // En caso de que la libreria falle por falta de memoria se congela el programa
    myOLED.setBrightness(200);//Ajusta el brillo de la pantalla
    myOLED.rotateDisplay(false);//Cambia la orientacion de la pantalla Invertida/Normal
    //Dibuja la portada del juego en buffer
    myOLED.drawBitmap(0,0,(uint8_t*)portada,128,64);
    myOLED.update();
    //Se crea semilla aleatoria
    srandom(millis());
    //configura pines
    pinMode(EJEX,INPUT);
    pinMode(EJEY,INPUT);
    pinMode(BOTON,INPUT);
    pinMode(IN1,INPUT);
    pinMode(IN2,INPUT);
    pinMode(OUT1,OUTPUT);
    pinMode(OUT2,OUTPUT);
    pinMode(13,OUTPUT);
    digitalWrite(OUT1,LOW);
    digitalWrite(OUT2,LOW);
    digitalWrite(13,LOW);
    delay(2000);//Espera 2 segundos
    //barraDeCarga();
    myOLED.setFont((uint8_t*)TinyFont);//cambia la fuente de texto
    playerP.ini(PLAYER,8,28);//Inicializa el sprite del jugador
    time=millis();
    conectado1=true;
    //conectado2=true;
}

void loop(){
    //iniConexion1(random(0,5));
    //iniConexion2(random(0,5));
    notherbalas=0;
    nplayers=0;
    myOLED.clrScr();//Limpiar pantalla
    if(nvidas<100){
        moverplayer();//Mover jugador
        disparar();//Avanzar disparos
    }
    if(conectado2){
        conectado=true;
        recibeSprites(players,nplayers,OUT2,IN2,10);
        recibeSprites(otherbalas,notherbalas,OUT2,IN2,10);
        recibeSprites(enemigos,nEnemigos,OUT2,IN2,10);
        conectado2=conectado;
    }else{
        //iniConexion2(5);
    }
    drawEnemigos();
//    barraDeEstado();
//    myOLED.update();
//    delay(250);
    if(inmunidad%2==0&&nvidas<100)
        packplayer();
        packbalas();
    if(conectado1){
        conectado=true;
        sendSprites(players,nplayers,OUT1,IN1,10);
        sendSprites(otherbalas,notherbalas,OUT1,IN1,10);
        sendSprites(enemigos,nEnemigos,OUT1,IN1,10);
        conectado1=conectado;
    }else{
        //iniConexion1(5);
    }
//    delay(250);
    if(conectado1){
        recibeSprites(players,nplayers,OUT1,IN1,10);
        recibeSprites(otherbalas,notherbalas,OUT1,IN1,10);
        recibeSprites(enemigos,nEnemigos,OUT1,IN1,10);
    }else{
        generarEnemigo();
        avanceEnemigo();
    }
    if(conectado2){
        sendSprites(players,nplayers,OUT2,IN2,10);
        sendSprites(otherbalas,notherbalas,OUT2,IN2,10);
        sendSprites(enemigos,nEnemigos,OUT2,IN2,10);
    }
        if(nvidas>200){
        myOLED.clrScr();
        myOLED.print("GAME OVER",43,28);
        myOLED.update();
        if(inmunidad>0){
            inmunidad--;
        }else if(!digitalRead(BOTON)){
            nvidas=3;
        }
    }else{
        draw();//Actualizar elementos de la pantalla
        //myOLED.drawBitmap(0,0,(uint8_t*)sissolar,128,64);
        //myOLED.update();
    }
    myOLED.update();


}



void draw(){
    //myOLED.clrScr();
//    for(int i=0;i<nEnemigos;i++){
//        enemigos[i].draw();
//    }
    for(int i=0;i<notherbalas;i+=1){
        otherbalas[i].draw();
    }
    for(int i=0;i<nplayers;i+=1){
        players[i].draw();
    }
    drawTierra();
    barraDeEstado();
    myOLED.printNumI(millis()-time,80,0);
    time=millis();
    //myOLED.update();//Dibujar en pantalla
}

void moverplayer(){
    //Se escucha al joystick
    playerP.posx+=readJoystick(EJEX,VELPLAYER,40);
    playerP.posy-=readJoystick(EJEY,VELPLAYER,40);
    //Se controla que el jugador no se salga de la pantalla
    if(playerP.posx>200){
        playerP.posx=0;
    }else if(playerP.posx>127-16){
        playerP.posx=127-16;
    }
    if(playerP.posy>200||playerP.posy<6){
        playerP.posy=6;
    }else if(playerP.posy>63-8){
        playerP.posy=63-8;
    }
    if(inmunidad%2==0)//hace parpadear al jugador si la inmunidad esta activada
        playerP.draw();// Se dibuja al jugador
    //playerP.drawRect();
}

void packplayer(){
    players[nplayers]=playerP;
    nplayers++;
}

void packbalas(){
    for(int i=0;i<nbalas;i++){
        otherbalas[notherbalas]=balas[i];
        notherbalas++;
    }
}

int readJoystick(byte pin,int maxval,int deadzone){//pin= pin del joystick a leer, maxval=Maximo valor que tomara el joystick, deadzone=zona muerta(zona del medio donde el joystick no responde)
    int tem=analogRead(pin);//Se lee el pin del eje del joystick a convertir
    if(tem>443+deadzone){//Si el joystick se inclina hacia un lado en ese eje
        tem-=443+deadzone;
        tem*=maxval/(443.0-deadzone);
    }else if(tem<443-deadzone){//Si el joystick se inclina hacia el otro lado
        tem=maxval/(443.0-deadzone)*((443.0-deadzone)-tem);
        tem*=-1;
    }else{//Si el joystick no esta inclinado
        tem=0;
    }
    return tem;
}

void barraDeCarga(){
    uint8_t barra[]={0x7E};//fondo de la barra
    uint8_t fondoBarra[]={0x81};//relleno de la barra
    //se dibuja el fondo de la barra
    for(int i=0;i<128;i++){
        myOLED.drawBitmap(i,55,fondoBarra,1,8);
    }
    myOLED.update();
    //Se rellena la barra lentamente
    for(int i=0;i<128;i+=2){
        myOLED.drawBitmap(i,55,barra,1,8);
        myOLED.update();
        delay(20);
    }
}
void barraDeEstado(){
    if(inmunidad!=0){
        byte i=map(inmunidad,0,INMUNIDAD,0,127);
        uint8_t relleno[]={0xFF};
        for(;i>0;i--){
            //myOLED.drawBitmap(i,0,relleno,1,6);
            myOLED.drawVLine(i,0,6);
        }
        inmunidad--;
    }else{
        if(conectado1)
            myOLED.drawBitmap(0,0,(uint8_t*)conexion,8,6);
        for(int i=0;i<nvidas&&i<5;i++){
            myOLED.drawBitmap((i*8)+8,0,(uint8_t*)corazon,8,6);
        }
        myOLED.print("np:",36,0);
        myOLED.printNumI(nplayers,48,0);
        if(conectado2)
            myOLED.drawBitmap(119,0,(uint8_t*)conexion,8,6);
    }
}
void drawTierra(){
    if(animtierra==120){
        animtierra=0;
    }else{
        animtierra++;
    }
    drawCollisionableBitmap(0,19,(uint8_t*)tierra3[animtierra/10],8,32);
}
void disparar(){
    bool b=digitalRead(BOTON);//lee el boton del joystick(y el otro boton si lo tienen XD)
    //Se genera una bala si se presiona el boton, hay menos balas que el limite de balas y el tiempo de recarga es cero
    if(!b&&nbalas<MAXBALAS&&recargabalas==0){
        byte i=nbalas;//Se ubica en la posicion del arreglo donde se creara la proxima bala
        balas[i].ini(BALA,playerP.posx+16,playerP.posy);//Se inicializa bala delante del jugador
        nbalas++;//Se incrementa el numero de balas
        recargabalas=RECARGA;//Se reinicia el tiempo para el proximo disparo
    }
    byte nb=nbalas;//variable temporal que contiene el numero de balas
    for(int i=nb;i>0;i--){//se recorren las balas una por una
        balas[i-1]+=VELBALAS;//Se avanza la bala
        if(balas[i-1].posx>127){//Si la bala esta fuera de la pantalla se elimina
            destruirSprite(i-1,balas,nbalas);
        }else{//Sino se dibuja
            balas[i-1].draw();
        }
    }
    if(recargabalas>0){//Si aun falta para el proximo disparo se reduce el tiempo
        recargabalas--;
    }
}

void destruirSprite(byte pos,Sprite arr[],byte &cant){
    Sprite tem;
    for(;pos<cant-1;pos++){
        tem=arr[pos];
        arr[pos]=arr[pos+1];
        arr[pos+1]=tem;
    }
    cant--;
}
void generarEnemigo(){
     //Si no se ha superado el numero maximo de enemigos y el tiempo de generacion es cero se crea otro enemigo
    if(nEnemigos<MAXENEMIGOS && genenemigos==0){
        byte i=nEnemigos;//Se ubica en la posicion del arreglo donde se creara el proximo enemigo
        enemigos[i].ini(ENEMIGO,127,random(6,64-16));//Se genera el enemigo en una posicion aleatoria en el borde derecho
        nEnemigos++;//Se incrementa el numero de enemigos
        genenemigos=SEPENEMIGOS;//Se reinicia el tiempo para generar el proximo enemigo
    }
    //Si queda tiempo para la generacion dek proximo enemigo se reduce
    if(genenemigos>0){
        genenemigos--;
    }
}
void avanceEnemigo(){
    for(int i=nEnemigos;i>0;i--){//Se recorren todos los enemigos
        enemigos[i-1]-=VELENEMIGOS;//Se avanza el enemigo
        if(enemigos[i-1].posx>200&&enemigos[i-1].posx<255){//Si el enemigo se sale de la pantalla se elimina
            destruirSprite(i-1,enemigos,nEnemigos);
        }
    }
}

void drawEnemigos(){
    for(int i=nEnemigos;i>0;i--){//Se recorren todos los enemigos
        int xi=enemigos[i-1].posx;
        bool colision=enemigos[i-1].draw(xi%8>3);
        if(colision){
            enemigos[i-1].drawRect();
            playerP.drawRect();
            int i2=getColision(enemigos[i-1],balas,nbalas);

            if(i2!=-1){
                destruirSprite(i2,balas,nbalas);
                destruirSprite(i-1,enemigos,nEnemigos);
            }else if(playerP.isNearOf(enemigos[i-1])&&inmunidad==0){
                playerP.drawRect();
                inmunidad=INMUNIDAD;
                nvidas--;
            }
        }
    }
}

bool drawCollisionableBitmap(int x, int y, uint8_t* bitmap, int sx, int sy){
    bool colision=false;
	int bit;
	byte data;
    uint16_t by, bi;
	for (int cy=0; cy<sy; cy++){
		bit= cy % 8;
		for(int cx=0; cx<sx; cx++){
			data=bitmapbyte(cx+((cy/8)*sx));
			if ((data & (1<<bit))>0){
                colision=getPixel(x+cx, y+cy)||colision;
			}else{
				//myOLED.clrPixel(x+cx, y+cy);
            }
		}
	}
	return colision;
}

bool getPixel(uint16_t x, uint16_t y){
	uint16_t by, bi;
	bool high=false;
	if ((x<128) and (y<64))
	{
		by=((y/8)*128)+x;
		bi=y % 8;
		high=myOLED.scrbuf[by] & (1<<bi);
		myOLED.scrbuf[by]=myOLED.scrbuf[by] | (1<<bi);
	}
	return high;
}

int getColision(Sprite spr,Sprite arr[],byte cant){
    int i=0;
    for(;i<cant;i++){
        if(spr.isNearOf(arr[i]))
            return i;
    }
    return -1;
}

void writeByte(byte data,byte out,byte in,int limit){
    unsigned long trtime=millis()+limit;
    digitalWrite(out,HIGH);
    digitalWrite(13,HIGH);
    while(!digitalRead(in)&&trtime>millis());
    if(trtime>millis()){
        trtime=millis()+10;
    }else{
        digitalWrite(out,LOW);
        digitalWrite(13,LOW);
        conectado=false;
        return;
    }
    digitalWrite(out,LOW);
    digitalWrite(13,LOW);
    delayMicroseconds(10);
    for(byte i;i<8;i++){
        while(!digitalRead(in)&&trtime>millis());
        digitalWrite(out,(data>>i)&1);
        digitalWrite(13,(data>>i)&1);
        while(digitalRead(in)&&trtime>millis());
    }
    while(!digitalRead(in)&&trtime>millis());
    digitalWrite(out,LOW);
    digitalWrite(13,LOW);
    if(trtime<millis())
        conectado=false;
}
byte readByte(byte out,byte in,int limit){
    unsigned long trtime=millis()+limit;
    byte data=0;
    byte bit=0;
    digitalWrite(out,HIGH);
    digitalWrite(13,HIGH);
    while(!digitalRead(in)&&trtime>millis());
    if(trtime>millis()){
        trtime=millis()+10;
    }else{
        digitalWrite(out,LOW);
        digitalWrite(13,LOW);
        conectado=false;
        return 0;
    }
    while(digitalRead(in)&&trtime>millis());
    for(byte i;i<8;i++){
        digitalWrite(out,HIGH);
        digitalWrite(13,HIGH);
        delayMicroseconds(10);
        //delay(1000);
        digitalWrite(out,LOW);
        digitalWrite(13,LOW);
        bit=digitalRead(in);
        data+=bit<<i;
        //delay(5000);
    }
    digitalWrite(out,HIGH);
    digitalWrite(13,HIGH);
    delayMicroseconds(10);
    digitalWrite(out,LOW);
    digitalWrite(13,LOW);
    if(trtime<millis())
        conectado=false;
    return data;
}

void writeByte(byte data,byte out,byte in){
    digitalWrite(out,HIGH);
    digitalWrite(13,HIGH);
    while(!digitalRead(in));
    delayMicroseconds(10);
    for(byte i;i<8;i++){
        while(!digitalRead(in));
        digitalWrite(out,(data>>i)&1);
        digitalWrite(13,(data>>i)&1);
//        Serial.print((data>>i)&1);
        while(digitalRead(in));
    }
    digitalWrite(out,LOW);
    digitalWrite(13,LOW);
//    Serial.print("\n");
    //delay(5000);
}
byte readByte(byte out,byte in){
    byte data=0;
    byte bit=0;
    digitalWrite(out,HIGH);
    digitalWrite(13,HIGH);
    while(!digitalRead(in));
    delayMicroseconds(10);
    for(byte i;i<8;i++){
        digitalWrite(out,HIGH);
        digitalWrite(13,HIGH);
        delayMicroseconds(10);
//        delay(250);
        digitalWrite(out,LOW);
        digitalWrite(13,LOW);
        bit=digitalRead(in);
        data+=bit<<i;
//        delay(250);
    }
//    Serial.print((int)data+"\n");
//    delay(5000);
    return data;
}


void sendSprites(Sprite arr[],byte cant,byte out,byte in,int limit){
    writeByte(cant,out,in);
//if(conectado=cant=readByte(out,in)){
//    writeByte(OK,out,in);
    writeByte(arr[0].type,out,in);
        for(int i=0;i<cant&&conectado;i++){
            writeByte(arr[i].getPosX(),out,in);
            writeByte(arr[i].getPosY(),out,in);
        }
//    }
}

void recibeSprites(Sprite arr[],byte &cant,byte out,byte in,int limit){
    byte px,py,type;
    cant=readByte(out,in);
//    writeByte(cant,out,in);
//    if(conectado=readByte(out,in)==OK){
        type=readByte(out,in);
//        if(conectado=type==ENEMIGO||type==BALA||type==PLAYER){
            for(int i=0;i<cant&&conectado;i++){
                px=readByte(out,in);
                py=readByte(out,in);
                arr[i].ini(type,px,py);
            }
//        }
//    }
}

void iniConexion1(int limit){
    byte data=random(5,254);
    conectado=true;
    writeByte(data,OUT1,IN1);
    if(conectado)
        conectado=readByte(OUT1,IN1)==data;
    if(conectado)
        data=readByte(OUT1,IN1);
    if(conectado)
        writeByte(data,OUT1,IN1);
    conectado1=conectado;
}

void iniConexion2(int limit){
    byte data=0;
    conectado=true;
    data=readByte(OUT2,IN2);
    if(conectado)
        writeByte(data,OUT2,IN2);
    if(conectado){
        data=random(5,254);
        writeByte(data,OUT2,IN2);
    }
    if(conectado)
        conectado=readByte(OUT2,IN2)==data;
    conectado2=conectado;
}



